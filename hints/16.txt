════════════════════════════════════════
LESSON 16: Loading Data from Memory
════════════════════════════════════════

DATA IN MEMORY

Programs can store data in the .data section. This data persists in memory
and can be read/written at runtime.

  .section .data
  myvar: .quad 42        # 64-bit value initialized to 42


LOADING FROM MEMORY

To load a value from a labeled memory location:

  movq label(%rip), %rax

The (%rip) is crucial - it makes the address "RIP-relative" (position
independent). This is required for modern executables with ASLR.


DATA TYPES

  .byte   1 byte (8 bits)
  .word   2 bytes (16 bits)
  .long   4 bytes (32 bits)
  .quad   8 bytes (64 bits)


RIP-RELATIVE ADDRESSING

  label(%rip)

This means: "the address of 'label' relative to the current instruction"

The assembler calculates the offset automatically. You just write label(%rip).


EXAMPLE

  .section .data
  secret: .quad 42

  .section .text
  _start:
      movq secret(%rip), %rdi    # Load value at 'secret' into rdi


YOUR TASK

Load the value stored at 'secret' into %rdi.

Use: movq label(%rip), %register
